<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiche de Personnage - The Witcher</title>
    <link href="./styles/styles.css" rel="stylesheet">
    <script src="./datas/rules.js" type="text/javascript"></script>
    <script src="./datas/constantes.js" type="text/javascript"></script>
    <script src="./scripts/utils.js" type="text/javascript"></script>
    <script src="./datas/cache.js" type="text/javascript"></script>
    <script src="./scripts/saveSystem.js" type="text/javascript"></script>
    <script src="./class/Equipment.js" type="text/javascript"></script>
    <script src="./scripts/main.js" type="text/javascript" defer></script>
    <link rel="icon" type="image/x-icon" href="./pictures/logo.png">
</head>
<body>
    <div class="mainTitle">
        <img src="./pictures/logo.png" style="height: 10rem; width: 10rem;">
        <h1> The Witcher</h1>
    </div>
    <nav>
        <button class="fantasy-btn-sm fantasy-bone-n-coper" onclick="window.location.href='./pages/grimoire.html'">Grimoire</button>
        <button class="fantasy-btn-sm fantasy-bone-n-coper" onclick="window.location.href='./pages/help.html'">Aide et Rappels</button>
        <button class="fantasy-btn-sm fantasy-bone-n-coper" onclick="window.location.href='./pages/background.html'">Background et Notes </button>
        <button class="fantasy-btn-sm fantasy-bone-n-coper" onclick="window.location.href='./pages/inventory.html'">Inventaire</button>
        <button class="fantasy-btn-sm fantasy-bone-n-coper" onclick="window.location.href='./pages/saves.html'">Choix du Personnage</button>
        <button class="fantasy-btn-sm fantasy-bone-n-coper" onclick="saveCharacter()">Sauvegarder personnage</button>
    </nav>
    
    <div class="container">
        <h1>Fiche de Personnage</h1>
        <section class="infos-container">
            <div class="general-infos">
                <h2>Informations Générales</h2>
                <table class="attrib-table">
                    <tr>
                        <td>Nom</td>
                        <td><input id="name" type="text" size="8"></td>
                    </tr>
                    <tr>
                        <th>Race</th>
                        <td><select id="raceSelect">
                            <option value="default"></option>
                            <option value="Elfe">Elfe</option>
                            <option value="Nain">Nain</option>
                            <option value="Humain">Humain</option>
                            <option value="Sorceleur">Sorceleur</option>
                        </select></td>
                    </tr>
                    <tr>
                        <th>Détails race</th>
                        <td id="raceDetails"></td>
                    </tr>
                    <tr>
                        <td>Genre</td>
                        <td><input id="gender" type="text" size="8"></td>
                    </tr>
                    <tr>
                        <td>Âge</td>
                        <td><input id="age" type="text" size="8"></td>
                    </tr>
                    <tr>
                        <td>Terre natale</td>
                        <td><input id="nativeLand" type="text" size="8"></td>
                    </tr>
                    <tr>
                        <th>Profession</th>
                        <td><select id="jobSelect">
                            <option value="default"></option>
                            <option value="Artisan">Artisan</option>
                            <option value="Barde">Barde</option>
                            <option value="Criminel">Criminel</option>
                            <option value="Docteur">Docteur</option>
                            <option value="Homme d'armes">Homme d'armes</option>
                            <option value="Mage">Mage</option>
                            <option value="Marchand">Marchand</option>
                            <option value="Prêtre">Prêtre</option>
                            <option value="Sorceleur">Sorceleur</option>

                        </select></td>
                    </tr>
                    <tr>
                        <th>Compétence exclusive</th>
                        <td id="excluSkill"></td>
                    </tr>
                    <tr>
                        <td>Description Comp. Exclu.</td>
                        <td id="descripExcluSkill"></td>
                    </tr>
                    <tr>
                        <td>Compétences connues</td>
                        <td id="knowSkills"></td>
                    </tr>
                    <tr>
                        <td>Atouts Magiques</td>
                        <td id="knowMagics"></td>
                    </tr>
                    <tr>
                        <td>Choix équipement (5 sauf marchand : 3 et sorceleur : 2)</td>
                        <td id="equipmentChoice"></td>
                    </tr>
                </table>
            </div>
            <div class="attributes-container" >
                <h2>Compétences exlucives</h2>
                <table class="attrib-table" id="excluSkillsEvos-table">
                    <tr>
                        <th>Attribut</th>
                        <th>Valeur</th>
                        <th>Bonus</th>
                        <th>Total</th>
                    </tr>
                </table>
            </div>
            <div class="attributes-container">
                <h2>Caractéristiques</h2>
                <table class="attrib-table">
                    <tr>
                        <th>Attribut</th>
                        <th>Valeur</th>
                        <th>Bonus</th>
                        <th>Total</th>
                    </tr>
                    <tr>
                        <td>Corps (COR)</td>
                        <td><input type="number" id="corInput" value="0" step="1" min="-22" max="22"></td>
                        <td ><input type="number" id="corBonus" value="0" step="1" min="-22" max="22"></td>
                        <td ><input type="number" id="corTt" value="0" step="1" min="-22" max="22" readonly></td>
                    </tr>
                    <tr>
                        <td>Intelligence (INT)</td>
                        <td><input type="number" id="intInput" value="0" step="1" min="-22" max="22"></td>
                        <td ><input type="number" id="intBonus" value="0" step="1" min="-22" max="22"></td>
                        <td ><input type="number" id="intTt" value="0" step="1" min="-22" max="22" readonly></td>
                    </tr>
                    <tr>
                        <td>Réflexes (REF)</td>
                        <td><input type="number" id="refInput" value="0" step="1" min="-22" max="22"></td>
                        <td ><input type="number" id="refBonus" value="0" step="1" min="-22" max="22"></td>
                        <td ><input type="number" id="refTt" value="0" step="1" min="-22" max="22" readonly></td>
                    </tr>
                    <tr>
                        <td>Dextérité (DEX)</td>
                        <td><input type="number" id="dexInput" value="0" step="1" min="-22" max="22"></td>
                        <td ><input type="number" id="dexBonus" value="0" step="1" min="-22" max="22"></td>
                        <td ><input type="number" id="dexTt" value="0" step="1" min="-22" max="22" readonly></td>
                    </tr>
                    <tr>
                        <td>Vitesse (VIT)</td>
                        <td><input type="number" id="vitInput" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="vitBonus" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="vitTt" value="0" step="1" min="-22" max="22" readonly></td>
                    </tr>
                    <tr>
                        <td>Empathie (EMP)</td>
                        <td><input type="number" id="empInput" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="empBonus" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="empTt" value="0" step="1" min="-22" max="22" readonly></td>
                    </tr>
                    <tr>
                        <td>Technique (TECH)</td>
                        <td><input type="number" id="techInput" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="techBonus" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="techTt" value="0" step="1" min="-22" max="22" readonly></td>
                    </tr>
                    <tr>
                        <td>Volonté (VOL)</td>
                        <td><input type="number" id="volInput" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="volBonus" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="volTt" value="0" step="1" min="-22" max="22" readonly></td>
                    </tr>
                    <tr>
                        <td>Chance (CHA)</td>
                        <td><input type="number" id="chaInput" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="chaBonus" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="chaTt" value="0" step="1" min="-22" max="22" readonly></td>
                    </tr>
                </table>
            </div>
            <div class="attributes-container">
                <h2>Caractéristiques dérivées</h2>
                <table class="attrib-table">
                    <tr>
                        <th>Attribut</th>
                        <th>Valeur</th>
                        <th>Bonus</th>
                        <th>Total</th>
                    </tr>
                    <tr>
                        <td>Etourdissement (ETOU)</td>
                        <td><input type="number" id="etouValue" value="0" step="1" min="-22" max="22" readonly></td>
                        <td><input type="number" id="etouBonus" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="etouTt" value="0" step="1" min="-22" max="100" readonly></td>
                    </tr>
                    <tr>
                        <td>Course (COUR)</td>
                        <td><input type="number" id="courValue" value="0" step="1" min="-22" max="22" readonly></td>
                        <td><input type="number" id="courBonus" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="courTt" value="0" step="1" min="-22" max="100" readonly></td>
                    </tr>
                    <tr>
                        <td>Saut</td>
                        <td><input type="number" id="sautValue" value="0" step="1" min="-22" max="22" readonly></td>
                        <td><input type="number" id="sautBonus" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="sautTt" value="0" step="1" min="-22" max="100" readonly></td>
                    </tr>
                    <tr>
                        <td>Point Santé (PS)</td>
                        <td><input type="number" id="psValue" value="0" step="1" min="-22" max="22" readonly></td>
                        <td><input type="number" id="psBonus" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="psTt" value="0" step="1" min="-22" max="100" readonly></td>
                    </tr>
                    <tr>
                        <td>Endurance (END)</td>
                        <td><input type="number" id="endValue" value="0" step="1" min="-22" max="22" readonly></td>
                        <td><input type="number" id="endBonus" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="endTt" value="0" step="1" min="-22" max="100" readonly></td>
                    </tr>
                    <tr>
                        <td>Encombrement (ENC)</td>
                        <td><input type="number" id="encValue" value="0" step="1" min="-22" max="22" readonly></td>
                        <td><input type="number" id="encBonus" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="encTt" value="0" step="1" min="-22" max="100" readonly></td>
                    </tr>
                    <tr>
                        <td>Récupération (REC)</td>
                        <td><input type="number" id="recValue" value="0" step="1" min="-22" max="22" readonly></td>
                        <td><input type="number" id="recBonus" value="0" step="1" min="-22" max="22"></td>
                        <td><input type="number" id="recTt" value="0" step="1" min="-22" max="100" readonly></td>
                    </tr>
                    <tr>
                        <td>Poings</td>
                        <td><input type="text" id="poingsValue" value="Not Found" size="5" readonly></td>
                        <td><input type="number" id="poingsBonus" value="0" step="1" min="-22" max="22"></td>
                    </tr>
                    <tr>
                        <td>Pieds</td>
                        <td><input type="text" id="piedsValue" value="Not Found" size="5" readonly></td>
                        <td><input type="number" id="piedsBonus" value="0" step="1" min="-22" max="22"></td>                                           
                    </tr>
                </table>
            </div>
            <div class="vitality-container">
                <h2>Vigueur/Endurance/Encombrement</h2>
                <table class="attrib-table">
                    <tr>
                        <th class="vitality-name">Vigueur Base</th>
                        <td id="vigorBase"></td>
                        <td><input id="vigorBonus" type="number" style="width: 3rem;" ></td>
                        <td><input id="vigorTt" type="number" style="width: 3rem;" ></td>
                    </tr>
                    <tr>
                        <th class="vitality-name">Endurance Utilisée</th>
                        <td><input type="number" id="endUseInput" value="0" step="1" min="-22" max="22"></td>
                    </tr>
                    <tr>
                        <th>Encombre Actuel</th>
                        <td><input id="weightTt" type="number" style="width: 3rem;" readonly ></td>
                    </tr>
                    <tr>
                        <th>Points de Progression</th>
                        <td><input id="pp" type="number" style="width: 3rem;" ></td>
                    </tr>
                    <tr></tr>
                        <th>Couronnes</th>
                        <td><input id="cash" type="number" style="width: 3rem;" ></td>
                    </tr>
                </table>
            </div>
        </section>
        
        <section>
            <h2>Compétences</h2>
            <div class="main-skills-container" id="mainSkillsContainer">
            </div>
            
        </section>

        <section>
            <h2>Armes et Armures</h2>
            <div class="weapons-container">
                <div class="skills-container">
                    <h3>Arme Principale</h3>
                    <table class="weapons-table">
                        <tr>
                            <th>Nom</th>
                            <td><input type="text" id="nameWeapon" size="8"></td>
                        </tr>
                        <tr>
                            <th>Type</th>
                            <td><input type="text" id="typeWeapon" size="8"></td>
                        </tr>
                        <tr>
                            <th>Précision</th>
                            <td><input type="number" id="precWeapon" value="0" step="1" min="0" max="100"></td>
                        </tr>
                        <tr>
                            <th>Dégâts</th>
                            <td><input type="text" id="dmgWeapon" size="8"></td>
                        <tr>
                            <th>Fia.</th>
                            <td><input type="number" id="fiaWeapon" value="0" step="1" min="0" max="100"></td> 
                       </tr>
                        <tr>
                            <th>Mains</th>
                            <td><input type="number" id="handsWeapon" value="1" step="1" min="1" max="2"></td>                        
                        </tr>
                        <tr>
                            <th>Portée</th>
                            <td><input type="number" id="scopeWeapon" value="0" step="1" min="0" max="100"></td>                        </tr>
                        <tr>
                            <th>Effet</th>
                            <td><input type="text" id="effectWeapon" size="8"></td>
                        </tr>
                        <tr>
                            <th>Dissumlation</th>
                            <td><input type="text" id="dissWeapon" size="8"></td>
                        </tr>
                        <tr>
                            <th>Amélioration</th>
                            <td><input type="text" id="amWeapon"></td>                        
                        </tr> 
                        <tr>
                            <th>Poids</th>
                            <td><input type="number" id="weightWeapon" value="0" step="0.1" min="0" max="100"></td>                        
                        </tr>
                    </table>
                </div>
                <div class="skills-container">
                    <h3>Arme Secondaire</h3>
                    <table class="secWeapons-table">
                        <tr>
                            <th>Nom</th>
                            <td><input type="text" id="nameSecWeapon" size="8"></td>
                        </tr>
                        <tr>
                            <th>Type</th>
                            <td><input type="text" id="typeSecWeapon" size="8"></td>
                        </tr>
                        <tr>
                            <th>Précision</th>
                            <td><input type="number" id="precSecWeapon" value="0" step="1" min="0" max="100"></td>
                        </tr>
                        <tr>
                            <th>Dégâts</th>
                            <td><input type="text" id="dmgSecWeapon" size="8"></td>
                        <tr>
                            <th>Fia.</th>
                            <td><input type="number" id="fiaSecWeapon" value="0" step="1" min="0" max="100"></td> 
                       </tr>
                        <tr>
                            <th>Mains</th>
                            <td><input type="number" id="handsSecWeapon" value="1" step="1" min="1" max="2"></td>                        
                        </tr>
                        <tr>
                            <th>Portée</th>
                            <td><input type="number" id="scopeSecWeapon" value="0" step="1" min="0" max="100"></td>                        
                        </tr>
                        <tr>
                            <th>Effet</th>
                            <td><input type="text" id="effectSecWeapon" size="8"></td>
                        </tr>
                        <tr>
                            <th>Dissumlation</th>
                            <td><input type="text" id="dissSecWeapon" size="8"></td>
                        </tr>
                        <tr>
                            <th>Amélioration</th>
                            <td><input type="text" id="amSecWeapon" size="8"></td>                        
                        </tr> 
                        <tr>
                            <th>Poids</th>
                            <td><input type="number" id="weightSecWeapon" value="0" step="0.1" min="0" max="100"></td>                       
                        </tr>
                    </table>
                </div>
                <div class="skills-container">
                    <h3>Armure</h3>
                    <table class="armor-table">
                        <tr>
                            <th>Localisation</th>
                            <th>Nom</th>
                            <th>PA</th>
                            <th>Dégâts</th>
                        </tr>
                        <tr>
                            <td>Tête</td>
                            <td><input type="text" id="nameHeadArmor" size="8"></td>
                            <td ><input type="number" id="paHeadArmor" value="0" step="1" min="0" max="100"></td>
                            <td ><input type="number" id="dmgHeadArmor" value="0" step="1" min="0" max="100"></td>
                        </tr>
                        <tr>
                            <td>Torse</td>
                            <td ><input type="text" id="nameTorsoArmor" size="8" ></td>
                            <td ><input type="number" id="paTorsoArmor" value="0" step="1" min="0" max="100"></td>
                            <td><input type="number"  id="dmgTorsoArmor" value="0" step="1" min="0" max="100"></td>
                        </tr>
                        <tr>
                            <td>Bras droit</td>
                            <td ><input type="text"id="nameRightArmArmor" size="8"></td>
                            <td ><input type="number"id="paRightArmArmor" value="0" step="1" min="0" max="100"></td>
                            <td ><input type="number" id="dmgRightArmArmor" value="0" step="1" min="0" max="100"></td>
                        </tr>
                        <tr>
                            <td>Bras gauche</td>
                            <td ><input type="text" id="nameLeftArmArmor" size="8"></td>
                            <td ><input type="number" id="paLeftArmArmor" value="0" step="1" min="0" max="100"></td>
                            <td ><input type="number" id="dmgLeftArmArmor" value="0" step="1" min="0" max="100"></td>
                        </tr>
                        <tr>
                            <td>Jambe droite</td>
                            <td ><input type="text" id="nameRightLegArmor" size="8"></td>
                            <td ><input type="number"id="paRightLegArmor" value="0" step="1" min="0" max="100"></td>
                            <td ><input type="number" id="dmgRightLegArmor" value="0" step="1" min="0" max="100"></td>
                        </tr>
                        <tr>
                            <td>Jambe gauche</td>
                            <td ><input type="text"id="nameLeftLegArmor" size="8"></td>
                            <td ><input type="number" id="paLeftLegArmor" value="0" step="1" min="0" max="100"></td>
                            <td ><input type="number" id="dmgLeftLegArmor" value="0" step="1" min="0" max="100"></td>
                        </tr>
                    </table>
                    <div class="skills-container">
                        <h3>Bouclier</h3>
                        <table class="armor-table">
                            <tr>
                                <th>Nom</th>
                                <th>PA</th>
                                <th>Dégâts</th>
                            </tr>
                            <tr>
                                <td ><input type="text" id="nameShieldArmor" size="8"></td>
                                <td ><input type="number" id="paShieldArmor" value="0" step="1" min="0" max="100"></td>
                                <td ><input type="number" id="dmgShieldArmor" value="0" step="1" min="0" max="100"></td>
                            </tr>
                            <tr>
                                <th colspan="3">Notes</th>
                            </tr>
                            <tr>
                                <td colspan="3"><textarea rows="5" cols="10"></textarea></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h2>Sorts / Invocations / Signes</h2>
            <table id="sorts-table">
                <tr>
                    <th>Nom</th>
                    <th>Effet</th>
                    <th>Durée</th>
                    <th>Coût</th>
                    <th>Portée</th>
                </tr>
                <!-- Lignes pour les sorts -->
            </table>
        </section>

        <section>
            <h2>Rituels</h2>
            <table id="rituals-table">
                <tr>
                    <th>Nom</th>
                    <th>Coût</th>
                    <th>Effet</th>
                    <th>Temps</th>
                    <th>SD</th>
                    <th>Durée</th>
                    <th>Composants</th>
                </tr>
                <!-- Lignes pour les rituels -->
            </table>
        </section>

    </div>
</body>
</html>